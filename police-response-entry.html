<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Police Response Entry | Crime Data</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet">
  <style>
    body { font-family: 'Inter', sans-serif; background: #18181b; color: #fff; min-height: 100vh; }
    .container { max-width: 480px; margin: 48px auto; background: #23232a; border-radius: 18px; box-shadow: 0 4px 24px #0002; padding: 40px 32px 32px 32px; }
    h2 { text-align: center; color: #facc15; font-size: 2rem; font-weight: 700; margin-bottom: 28px; letter-spacing: 1px; }
    label { font-weight: 600; color: #facc15; margin-top: 18px; margin-bottom: 6px; display: block; font-size: 1.05rem; }
    select, input { width: 100%; padding: 10px 14px; border-radius: 8px; border: 2px solid #e5e7eb; font-size: 1rem; background: #1e293b; margin-bottom: 8px; color: #fff; transition: border 0.2s; }
    select:focus, input:focus { border-color: #facc15; outline: none; background: #23232a; }
    .btn { background: linear-gradient(90deg, #facc15 0%, #f59e42 100%); color: #23232a; padding: 12px 0; border-radius: 10px; font-weight: 700; font-size: 1.1rem; width: 100%; box-shadow: 0 2px 8px #facc1544; cursor: pointer; transition: background 0.2s; display: flex; align-items: center; justify-content: center; gap: 8px; }
    .btn:hover { background: linear-gradient(90deg, #fde68a 0%, #f59e42 100%); }
    .success { color: #22c55e; font-weight: 600; margin-top: 14px; text-align: center; font-size: 1rem; letter-spacing: 0.5px; }
    .back-btn { position: fixed; top: 18px; right: 18px; z-index: 1000; }
    .back-btn button { padding: 6px 14px 6px 10px; font-size: 0.95em; border-radius: 30px; box-shadow: 0 2px 8px #ef444444; background: #ef4444; color: #fff; border: none; font-weight: bold; display: flex; align-items: center; gap: 6px; cursor: pointer; }
    .back-btn button:hover { background: #dc2626; }
    .back-icon { font-size: 1em; }
    @media (max-width: 600px) {
      .container { padding: 18px 6px 18px 6px; }
      h2 { font-size: 1.2rem; }
      .back-btn { top: 8px; right: 8px; }
    }
  </style>
</head>
<body>
  <div class="back-btn">
    <button onclick="goBack()" title="Back">
      <span class="back-icon"><i class='bx bx-arrow-back'></i></span> Back
    </button>
  </div>
  <div class="container">
    <h2><i class='bx bx-shield'></i> Police Response Entry</h2>
    <form id="responseForm" autocomplete="off">
      <label for="status">Case Status</label>
      <select id="status" required>
        <option value="">Select Status</option>
        <option value="Solved">Solved</option>
        <option value="Pending">Pending</option>
        <option value="In Progress">In Progress</option>
      </select>
      <label for="start_date">Start Date</label>
      <input type="date" id="start_date" required>
      <label for="end_date">End Date <span style="color:#f59e42">(if solved)</span></label>
      <input type="date" id="end_date">
      <button type="submit" class="btn"><i class='bx bxs-save'></i> Save Response</button>
      <div id="formMsg" class="success"></div>
    </form>
  </div>
  <script>
    function goBack() {
      if (window.history.length > 1) {
        history.back();
      } else {
        window.location.href = "reports.html";
      }
    }

    document.getElementById('responseForm').onsubmit = function(e) {
      e.preventDefault();
      const status = document.getElementById('status').value;
      const start_date = document.getElementById('start_date').value;
      const end_date = document.getElementById('end_date').value;
      const formMsg = document.getElementById('formMsg');
      if (!status || !start_date) {
        formMsg.textContent = "Please fill all required fields.";
        formMsg.style.color = "#ef4444";
        return;
      }
      // Save to localStorage
      let crimes = [];
      try { crimes = JSON.parse(localStorage.getItem('crimes') || '[]'); } catch { crimes = []; }
      crimes.push({
        status,
        start_date,
        end_date: end_date || null
      });
      localStorage.setItem('crimes', JSON.stringify(crimes));
      formMsg.textContent = "âœ… Response saved!";
      formMsg.style.color = "#22c55e";
      this.reset();
      setTimeout(() => formMsg.textContent = '', 2000);
    };
  </script>
</body>
</html>